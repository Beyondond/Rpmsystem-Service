<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace = "cn.com.dhc.rpmsystem.system.dao.AuthorityDao">
    <resultMap id="BaseResultMap" type="cn.com.dhc.rpmsystem.system.entity.RpmSkillInfo">
        <result column="id" jdbcType="INTEGER" property="id"/>
        <result column="parent_id" jdbcType="INTEGER" property="roleId"/>
        <result column="skill_desc" jdbcType="VARCHAR" property="skillDesc"/>
    </resultMap>
    <!-- 添加权限-->
    <insert id = "addSkillInfo" parameterType = "cn.com.dhc.rpmsystem.system.entity.RpmSkillInfo">
  INSERT INTO `rpm_system`.`rpm_skill_info`(`id`, `parent_id`, `skill_desc`)
  VALUES (#{id},#{roleId},#{skillDesc});
    </insert>
    <!--删除一个权限-->
    <delete id="deleteSkillInfo" parameterType="integer">
        DELETE FROM rpm_skill_info
        WHERE id = #{id}
    </delete>

    <!--编辑更新-->
    <update id="updateSkillInfo" parameterType="integer">
        UPDATE
            rpm_skill_info
        SET
            parent_id = #{roleId},
            skill_desc = #{skillDesc},
        WHERE
            id = #{id};
    </update>

    <!-- 根据id查询权限-->
    <select id="findAllSkillInfo" resultType="cn.com.dhc.rpmsystem.system.entity.RpmSkillInfo">
        SELECT
            id AS id,
            parent_id AS parentId,
            skill_desc AS skillDesc
        FROM
            rpm_skill_info
        WHERE
        id IN
        <foreach collection="list" item="id" index="index" open="(" close=")" separator=",">
            #{id}
        </foreach>
    </select>

    <!--根据相应条件查找-->
    <select id="findOneSkillInfo" resultType="cn.com.dhc.rpmsystem.system.entity.RpmSkillInfo">
        SELECT
            id AS id,
            parent_id AS parentId,
            skill_desc AS skillDesc
        FROM
            rpm_skill_info
        where
            id = #{id};
    </select>
</mapper>